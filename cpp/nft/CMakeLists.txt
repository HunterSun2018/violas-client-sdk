# obj file generated by Rust
IF(CMAKE_BUILD_TYPE MATCHES "Debug")
    set(OBJ_FROM_RUST ${CMAKE_CURRENT_SOURCE_DIR}/../../rust/violas-client/target/debug/build/violas-client-e89d173348ec1c91/out/rust_cpp/cpp_closures.o)
    link_directories(../../rust/violas-client/target/debug)
ELSE() 
    set(OBJ_FROM_RUST ${CMAKE_CURRENT_SOURCE_DIR}/../lib/cpp_closures.o)
    link_directories(../../rust/violas-client/target/release)
ENDIF()

# Compile nft 
add_executable(nft src/main.cpp)

# link nft
target_link_libraries(nft violas_client violas_sdk cpprest ssl crypto pthread readline ${OBJ_FROM_RUST})

# Install nft
install(TARGETS nft DESTINATION bin)
